script.
    var pugDataRunningJobs = !{JSON.stringify(runningJobs)};
    var zTreeObj;
    var zTreeNode = [];
    var zTreeSetting = {
        edit: {
            drag: {
                autoExpandTrigger: true,
                prev: false,//function(){return false;},
                //- inner: onZTreeEditDragInner,
                next: false //function(){return false;}
            },
            enable: true,
            showRemoveBtn: true,
            showRenameBtn: false,
        },
        view: {
            dblClickExpand: false
        },
        callback: {
        //-     onRightClick: onZTreeRightClick,
            beforeRemove: onTreeBeforeRemove,
            onRemove: onTreeRemove,
        //-     onRename: onTreeRename,
        //-     beforeDrop: onTreeBeforeDrop,
        //-     onDrop: onTreeDrop,
        //-     onClick: onTreeClick
        }
    };

    $(function(){ 
        // do something 
        //- console.log(pugDataRunningJobs);
        createRunningJobList();
    });

    function createRunningJobList() {
        zTreeNode = [];
        for (var key in pugDataRunningJobs) {
            let node = {name: key, isParent: true, children: []};
            
            for (var i = 0; i < pugDataRunningJobs[key].length; ++i) {
                console.log(pugDataRunningJobs[key][i]);
                node.children.push({name: pugDataRunningJobs[key][i].name, isParent: false, id: pugDataRunningJobs[key][i].runningJobId});
            }

            zTreeNode.push(node);
        }

        zTreeNode = [{name: 'ALL JOBS', isParent: true, children: zTreeNode, open: true}];
        $.fn.zTree.init($("#runningJobList"), zTreeSetting, zTreeNode);
        zTreeObj = $.fn.zTree.getZTreeObj("runningJobList");

        //- var selectedNode = zTreeObj.getNodeByParam('id', selectedJobId);

        //- if (selectedNode !== null) {
        //-     zTreeObj.selectNode(selectedNode);
        //- }
    }

    function onTreeRemove(event, treeId, treeNode) {
        if (treeNode.isParent === false) {
            socket.emit('closeRunningJob', {runningJobId: treeNode.id});
        }
    }

    function onTreeBeforeRemove(treeId, treeNode) {
        if (treeNode.isParent === false) {
            if (confirm("确定要关闭此Job吗？ job名字: " + treeNode.name)) {
                return true;
            }
        }

        return false;
    }
div
    div.ztree#runningJobList
