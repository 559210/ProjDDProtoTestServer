CREATE DATABASE  IF NOT EXISTS `DDProjServTest` /*!40100 DEFAULT CHARACTER SET utf8 */;
USE `DDProjServTest`;
-- MySQL dump 10.13  Distrib 5.7.17, for macos10.12 (x86_64)
--
-- Host: localhost    Database: DDProjServTest
-- ------------------------------------------------------
-- Server version	5.7.17

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `Account`
--

DROP TABLE IF EXISTS `Account`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Account` (
  `uid` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `userName` varchar(45) NOT NULL,
  `cryptedPwd` varchar(300) NOT NULL,
  `email` varchar(256) NOT NULL,
  `state` int(11) DEFAULT '0',
  PRIMARY KEY (`uid`,`userName`),
  UNIQUE KEY `uid_UNIQUE` (`uid`),
  UNIQUE KEY `userName_UNIQUE` (`userName`),
  UNIQUE KEY `email_UNIQUE` (`email`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Account`
--

LOCK TABLES `Account` WRITE;
/*!40000 ALTER TABLE `Account` DISABLE KEYS */;
INSERT INTO `Account` VALUES (1,'majun','6e7fb80151ed2e0dd9e68d0d98e0c500','rayma@xiangyounet.com',0);
/*!40000 ALTER TABLE `Account` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `InstrumentPrototypes`
--

DROP TABLE IF EXISTS `InstrumentPrototypes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `InstrumentPrototypes` (
  `instId` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(256) NOT NULL,
  `c2s` varchar(4096) DEFAULT NULL COMMENT '上行协议，json字符串类型',
  `s2c` varchar(4096) DEFAULT NULL COMMENT '下行参数，json字符串类型',
  `type` int(11) NOT NULL COMMENT '    "REQUEST": 0,\n    "PUSH": 1,\n    "NOTIFY": 2,\n    "JOB": 3,\n    "CONNECT": 4',
  `note` varchar(45) DEFAULT NULL COMMENT '说明',
  `tag` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`instId`),
  UNIQUE KEY `instId_UNIQUE` (`instId`),
  UNIQUE KEY `name_UNIQUE` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=86 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `InstrumentPrototypes`
--

LOCK TABLES `InstrumentPrototypes` WRITE;
/*!40000 ALTER TABLE `InstrumentPrototypes` DISABLE KEYS */;
INSERT INTO `InstrumentPrototypes` VALUES (5,'room.roomHandler.createRoomRequest','{\"roomName\":{\"type\":\"string\",\"desc\":\"房间名\"},\"password\":{\"type\":\"string\",\"desc\":\"密码\"},\"gameType\":{\"type\":\"int\",\"length\":4,\"desc\":\"游戏类型，0:dance , 1:chat\"},\"roomType\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间类型, 0:common ，1:vip\"}}','{\"errorCode\":{\"type\":\"string\",\"length\":4,\"desc\":\"错误码:0,18,19,20\"},\"roomId\":{\"type\":\"string\",\"length\":4,\"desc\":\"房间ID\"}}',0,'创建房间请求','房间协议'),(6,'balance.balanceHandler.getCipherCodeRequest','{}','{\"cipherCode\":{\"type\":\"string\",\"desc\":\"加密串(DES)\"}}',0,'向balance请求密串','登陆协议'),(7,'chat.chatHandler.enterChatRoomRequest','{}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0\"},\"chatRoomId\":{\"type\":\"int\",\"length\":4,\"desc\":\"聊天房ID\"}}',0,'向chat发送进入聊天房间请求（只针对公聊房间）','聊天系统'),(8,'onUpdateBagPush','null','{\"itemInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemCode\"},\"timeslimit\":{\"type\":\"int\",\"length\":4,\"desc\":\"个数\"},\"dateLimit\":{\"type\":\"int\",\"length\":4,\"desc\":\"时间期限\"}}}}',1,'背包数据信息更新推送','通用协议'),(9,'copy.copyHandler.enterChapterRequest','{\"chapterId\":{\"type\":\"int\",\"length\":4,\"desc\":\"章节ID (从1开始)\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0，55,56\"},\"starRewardStateInfo\":{\"type\":\"string\",\"desc\":\"关卡信息(数组)\"},\"sectionInfo\":{\"type\":\"array\",\"content\":{\"sectionId\":{\"type\":\"int\",\"length\":4,\"desc\":\"已经过关的关卡ID\"},\"maxScore\":{\"type\":\"int\",\"length\":4,\"desc\":\"过关的关卡对应的最高分数\"}}}}',0,'进入章节 请求','副本系统'),(10,'backpack.backpackHandler.changeAvatarRequest','{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"穿上的/脱下的avatar\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0,34\"},\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"操作的itemCode\"}}',0,'换装 请求','商城背包'),(11,'onApplyFriendPush','null','{\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"发起方userIndex\"},\"nickname\":{\"type\":\"string\",\"desc\":\"发起方昵称\"},\"type\":{\"type\":\"int\",\"length\":4,\"desc\":\"0-加好友，3-同意好友\"},\"result\":{\"type\":\"int\",\"length\":4,\"desc\":\"结果(0同意，1拒绝)\"}}',1,'好友操作 推送','好友系统'),(12,'room.roomHandler.enterRoomRequest','{\"roomId\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间ID\"},\"password\":{\"type\":\"string\",\"desc\":\"密码\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0,9,21,22,23，37\"},\"roomId\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间ID\"}}',0,'进入房间请求','房间协议'),(13,'balance.balanceHandler.checkCodeRequest','{\"code\":{\"type\":\"string\",\"desc\":\"解密后的串(DES)\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0, (错误断开连接)\"}}',0,'向balance发送校验','登陆协议'),(14,'friend.friendHandler.getFriendListRequest','{\"page\":{\"type\":\"int\",\"length\":4,\"desc\":\"请求列表的页数( 从0开始)\"},\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"玩家userindex\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0 \"},\"pageCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"总页数\"},\"pageSize\":{\"type\":\"int\",\"length\":4,\"desc\":\"每页显示的个数\"},\"page\":{\"type\":\"int\",\"length\":4,\"desc\":\"当前页索引\"},\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"玩家userindex\"},\"itemCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"总条数\"},\"itemInfo\":{\"type\":\"array\",\"content\":{\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"好友userindex\"},\"nickname\":{\"type\":\"string\",\"desc\":\"好友昵称\"},\"sex\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"好友性别\"},\"head\":{\"type\":\"string\",\"desc\":\"好友头像\"},\"vipLevel\":{\"type\":\"int\",\"length\":4,\"desc\":\"好友的vip等级\"},\"intimacy\":{\"type\":\"int\",\"length\":4,\"desc\":\"和好友的亲密度值\"},\"gameState\":{\"type\":\"int\",\"length\":4,\"desc\":\"好友的游戏状态（0-无，1-等待中，2-游戏中）\"},\"online\":{\"type\":\"int\",\"length\":4,\"desc\":\"好友是否在线（0-不在线，1-在线）\"},\"valueInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemCode值\"},\"value\":{\"type\":\"int\",\"length\":4,\"desc\":\"对应数值\"}}}}}}',0,'好友列表请求','好友系统'),(15,'onEnterRoomPush','null','{\"slotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"槽位\"},\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"玩家账号索引\"}}',1,'进入房间广播（给房间内的人）','房间协议'),(19,'onChangeAvatarPush','null','{\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"槽位ID\"},\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"更新的avatar\"}}',1,'换装 广播 （如果玩家在房间中会有此广播，其他场景暂时不需要此广播）','商城背包'),(20,'balance.balanceHandler.getConnectorInfoRequest','{}','{\"errorCode\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"错误码:0,2\"},\"connectorIp\":{\"type\":\"string\",\"desc\":\"分配的connector 的 ip\"},\"connectorPort\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"分配的connector 的 port\"}}',0,'向balance请求connector信息','登陆协议'),(21,'room.roomHandler.leaveRoomRequest','{}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0,21\"}}',0,'离开房间请求','房间协议'),(22,'chat.chatHandler.getChatRoomListRequest','{\"page\":{\"type\":\"int\",\"length\":4,\"desc\":\"请求列表的页数( 从0开始)\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0 \"},\"pageCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"总页数\"},\"pageSize\":{\"type\":\"int\",\"length\":4,\"desc\":\"每页显示的个数\"},\"page\":{\"type\":\"int\",\"length\":4,\"desc\":\"当前页索引\"},\"itemCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"总条数\"},\"itemInfo\":{\"type\":\"array\",\"content\":{\"roomId\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间ID\"},\"roomName\":{\"type\":\"string\",\"desc\":\"房间名称\"},\"state\":{\"type\":\"int\",\"length\":4,\"desc\":\"状态（0-空闲，1-繁忙，2-爆满）\"}}}}',0,'房间列表请求','聊天系统'),(23,'misc.miscHandler.getSectionRankRequest','{\"page\":{\"type\":\"int\",\"length\":4,\"desc\":\"请求列表的页数( 从0开始)\"},\"sectionId\":{\"type\":\"int\",\"length\":4,\"desc\":\"关卡ID (从1开始)\"},\"gameMode\":{\"type\":\"int\",\"length\":4,\"desc\":\"游戏模式（0:vos，1:au)\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0 \"},\"pageCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"总页数\"},\"pageSize\":{\"type\":\"int\",\"length\":4,\"desc\":\"每页显示的个数\"},\"page\":{\"type\":\"int\",\"length\":4,\"desc\":\"当前页索引\"},\"gameMode\":{\"type\":\"int\",\"length\":4,\"desc\":\"游戏模式（0:vos，1:au)\"},\"itemCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"总条数\"},\"itemInfo\":{\"type\":\"array\",\"content\":{\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"玩家索引\"},\"nickname\":{\"type\":\"string\",\"desc\":\"昵称\"},\"head\":{\"type\":\"string\",\"desc\":\"头像\"},\"score\":{\"type\":\"int\",\"length\":4,\"desc\":\"分数\"},\"sex\":{\"type\":\"int\",\"length\":4,\"desc\":\"性别\"},\"valueInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"经验itemCode\"},\"value\":{\"type\":\"int\",\"desc\":\"值\"}}}}}}',0,'关卡排名 请求','副本系统'),(24,'shop.shopHandler.buyItemRequest','{\"itemInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemCode\"},\"specification\":{\"type\":\"int\",\"length\":4,\"desc\":\"规格代码（0：规格1, 1：规则2, 2：规则3, 3：规则4）\"}}}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0,当大于0时读errorItems字段\"},\"errorItems\":{\"type\":\"string\",\"desc\":\"错误的itemCode数组\"}}',0,'购买 请求','商城背包'),(25,'connector.connectorHandler.getCipherCodeRequest','{}','{\"cipherCode\":{\"type\":\"string\",\"desc\":\"加密串(DES)\"}}',0,'向connector请求密串','登陆协议'),(26,'onLeaveRoomPush','null','{\"slotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"槽位\"},\"masterSlotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"房主槽位\"}}',1,'某人离开房间的广播','房间协议'),(27,'chat.chatHandler.sendPrivateChatRequest','{\"messageType\":{\"type\":\"int\",\"length\":4,\"desc\":\"消息类型，10-私聊\"},\"toUserIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"私聊对象userIndex\"},\"chatData\":{\"type\":\"string\",\"desc\":\"聊天内容\"},\"chatType\":{\"type\":\"int\",\"length\":4,\"desc\":\"0-文字，1-语音\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0\"}}',0,'向chat发送私聊信息请求（一对一）','聊天系统'),(28,'room.roomHandler.dressupStartRequest','{\"gameMode\":{\"type\":\"int\",\"length\":4,\"desc\":\"游戏模式（0:vos，1:au)\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0\"},\"avatarInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemcode信息\"}}}}',0,'开始装扮 请求','副本系统'),(29,'connector.connectorHandler.checkCodeRequest','{\"code\":{\"type\":\"string\",\"desc\":\"解密后的串(DES)\"}}','{\"errorCode\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"错误码:0, (错误断开连接)\"}}',0,'向connector发送校验','登陆协议'),(30,'connector.connectorHandler.changeClientStateNotify','{\"stateId\":{\"type\":\"int\",\"length\":4,\"desc\":\"场景类型,0:在收到LoginAck后发，1:在收到selectRoleAck后发，2:进入3D场景，3:进入大厅，4:进入房间，5：章节\"}}','null',2,'客户端改变状态的提交','房间协议'),(31,'shop.shopHandler.composeItemRequest','{\"type\":{\"type\":\"int\",\"length\":4,\"desc\":\"合成类型（0：图纸制作，1：材料合成，2：碎片合成）\"},\"id\":{\"type\":\"int\",\"length\":4,\"desc\":\"图纸：图纸ID，材料：流水ID，碎片：碎片ID\"},\"count\":{\"type\":\"int\",\"length\":4,\"desc\":\"批量合成数量\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0,69,70,71\"},\"itemInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemCode\"},\"addDays\":{\"type\":\"int\",\"length\":4,\"desc\":\"日期类型的物品有此字段\"},\"addTimes\":{\"type\":\"int\",\"length\":4,\"desc\":\"次数类型的物品有此字段\"}}}}',0,'合成 请求','商城背包'),(32,'chat.chatHandler.sendChatRequest','{\"messageType\":{\"type\":\"int\",\"length\":4,\"desc\":\"消息类型，15-公聊,13-房间聊天\"},\"chatData\":{\"type\":\"string\",\"desc\":\"聊天内容\"},\"chatType\":{\"type\":\"int\",\"length\":4,\"desc\":\"0-文字，1-语音\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0\"}}',0,'向chat发送聊天信息请求（一对多）','聊天系统'),(33,'connector.connectorHandler.registerRequest','{\"userId\":{\"type\":\"string\",\"desc\":\"注册用户名\"},\"password\":{\"type\":\"string\",\"desc\":\"注册密码\"},\"deviceId\":{\"type\":\"string\",\"desc\":\"玩家设备号\"},\"platformId\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"渠道编码（0代表PC登录）\"}}','{\"errorCode\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"错误码:0,3,4,5,6,7\"}}',0,'向connector发送注册请求','登陆协议'),(34,'room.roomHandler.getRoomListRequest','{\"page\":{\"type\":\"int\",\"length\":4,\"desc\":\"请求列表的页数(从0开始)\"},\"gameType\":{\"type\":\"int\",\"length\":4,\"desc\":\"游戏类型，0:all，1:dance , 2:chat\"},\"free\":{\"type\":\"int\",\"length\":4,\"desc\":\"是否空闲（0:all，1:free）\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0\"},\"pageCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"总页数\"},\"pageSize\":{\"type\":\"int\",\"length\":4,\"desc\":\"每页显示的个数\"},\"page\":{\"type\":\"int\",\"length\":4,\"desc\":\"当前页索引\"},\"gameType\":{\"type\":\"int\",\"length\":4,\"desc\":\"游戏类型，-1:all，0:dance , 1:chat\"},\"free\":{\"type\":\"int\",\"length\":4,\"desc\":\"是否空闲（0:all，1:free）\"},\"itemCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"总条数\"},\"itemInfo\":{\"type\":\"array\",\"content\":{\"roomId\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间ID\"},\"roomName\":{\"type\":\"string\",\"desc\":\"房间名称\"},\"gameType\":{\"type\":\"int\",\"length\":4,\"desc\":\"游戏类型，0:dance , 1:chat\"},\"roomType\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间类型, 0:common ，1:vip\"},\"roomMode\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间模式，0:free，1:love，2:team\"},\"hasPassword\":{\"type\":\"int\",\"length\":4,\"desc\":\"是否需要密码（0不需要，1需要）\"},\"playerCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间跳舞人数\"},\"userCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间总人数\"},\"roomState\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间的游戏状态（0等待，1游戏中）\"},\"maxPlayerNumber\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间跳舞人数上限\"},\"maxWatcherNumber\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间旁观人数上限\"},\"masterSlotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"房主槽位号\"},\"masterHead\":{\"type\":\"string\",\"desc\":\"房主头像\"},\"sexList\":{\"type\":\"simpleArray\",\"content\":{\"type\":\"int\",\"length\":4,\"desc\":\"性别列表(0:女，1:男，2:无，3:被禁)\"}},\"validWatcherSlotCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"有效的旁观槽位总数\"},\"masterValueInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemCode值\"},\"value\":{\"type\":\"int\",\"length\":4,\"desc\":\"对应数值\"}}}}}}',0,'房间列表请求','房间协议'),(35,'room.roomHandler.dressupDoneRequest','{\"sectionId\":{\"type\":\"int\",\"length\":4,\"desc\":\"关卡ID (从1开始)\"},\"itemCodesString\":{\"type\":\"string\",\"desc\":\"itemcode连串\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0\"},\"deductColorScore\":{\"type\":\"int\",\"length\":4,\"desc\":\"扣除色系分数\"},\"deductOrnamentScore\":{\"type\":\"int\",\"length\":4,\"desc\":\"扣除配饰分数\"},\"isHighestScore\":{\"type\":\"int\",\"length\":4,\"desc\":\"当前装扮是否是最高分(0否，1是)\"},\"scoreInfo\":{\"type\":\"array\",\"content\":{\"styleId\":{\"type\":\"int\",\"length\":4,\"desc\":\"属性ID\"},\"score\":{\"type\":\"int\",\"length\":4,\"desc\":\"属性分数\"}}}}',0,'换装好了 请求','副本系统'),(36,'connector.connectorHandler.setHeadRequest','{\"headName\":{\"type\":\"string\",\"desc\":\"头像名称\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0\"}}',0,'设置头像','商城背包'),(37,'connector.connectorHandler.loginRequest','{\"userId\":{\"type\":\"string\",\"desc\":\"注册用户名\"},\"password\":{\"type\":\"string\",\"desc\":\"注册密码\"},\"platformId\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"渠道编码（0代表PC登录）\"},\"deviceId\":{\"type\":\"string\",\"desc\":\"玩家设备号\"}}','{\"errorCode\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"错误码:0,6,7,8,9,10\"},\"roleFlag\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"0无角色，1有角色（如果0，后面都不发的）\"},\"lastLoginUserIndex\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"上次登录的角色index(-1代表没取到)\"},\"roleGroup\":{\"type\":\"array\",\"content\":{\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"玩家账号索引\"}}}}',0,'向connector发送登录请求','登陆协议'),(38,'onChatPush','null','{\"messageType\":{\"type\":\"int\",\"length\":4,\"desc\":\"消息类型，15-公聊,13-房间聊天\"},\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"发言者userIndex\"},\"nickname\":{\"type\":\"string\",\"desc\":\"发言者昵称\"},\"chatData\":{\"type\":\"string\",\"desc\":\"聊天内容\"},\"chatDataType\":{\"type\":\"int\",\"length\":4,\"desc\":\"0-文字，1-语音\"},\"timestamp\":{\"type\":\"int\",\"length\":4,\"desc\":\"时间戳（精确到秒）\"},\"colorType\":{\"type\":\"int\",\"length\":4,\"desc\":\"只有广播和普通喇叭有此字段\"}}',1,'聊天信息推送','聊天系统'),(39,'misc.miscHandler.receiveBrocastStateNotify','{\"brocastId\":{\"type\":\"int\",\"length\":4,\"desc\":\"接受广播的类型,0小喇叭，1大喇叭，2公告，3广播\"},\"isOpen\":{\"type\":\"int\",\"length\":4,\"desc\":\"是否打开此开关用来接收广播消息（0关，1开，默认开）\"}}','null',2,'客户端需要接受广播的类型的标志提交','房间协议'),(40,'copy.copyHandler.getChapterRewardRequest','{\"chapterId\":{\"type\":\"int\",\"length\":4,\"desc\":\"章节ID (从1开始)\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0，58,59\"},\"itemInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemCode\"},\"addDays\":{\"type\":\"int\",\"length\":4,\"desc\":\"日期类型的物品有此字段\"},\"addTimes\":{\"type\":\"int\",\"length\":4,\"desc\":\"次数类型的物品有此字段\"}}}}',0,'章节奖励 请求','副本系统'),(41,'room.roomHandler.getRoomInfoRequest','{}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0，38\"},\"roomId\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间编号\"},\"roomName\":{\"type\":\"string\",\"desc\":\"房间名称\"},\"roomType\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间类型, 0:common ，1:vip\"},\"roomMode\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间模式，0:free，1:love，2:team\"},\"hasPassword\":{\"type\":\"int\",\"length\":4,\"desc\":\"是否有密码（0无，1有）\"},\"roomState\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间的游戏状态（0等待，1游戏中，2结束, ...）\"},\"masterSlotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"房主槽位（无房主为-1）\"},\"gameType\":{\"type\":\"int\",\"length\":4,\"desc\":\"游戏类型，0:dance , 1:chat\"},\"songId\":{\"type\":\"int\",\"length\":4,\"desc\":\"歌曲ID\"},\"sceneId\":{\"type\":\"int\",\"length\":4,\"desc\":\"场景ID\"},\"randSong\":{\"type\":\"int\",\"length\":4,\"desc\":\"歌曲ID 是否是随机 （0否，1是）\"},\"randScene\":{\"type\":\"int\",\"length\":4,\"desc\":\"场景ID 是否是随机 （0否，1是）\"},\"difficulty\":{\"type\":\"int\",\"length\":4,\"desc\":\"难度 从0开始\"},\"syncTime\":{\"type\":\"int\",\"length\":4,\"desc\":\"同步间隔时间(*1000后的值)\"},\"watcherSlots\":{\"type\":\"array\",\"content\":{\"slotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"槽位ID\"},\"isOpen\":{\"type\":\"int\",\"length\":4,\"desc\":\"槽位状态（0关，1开）\"},\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"玩家账号索引（无人时-1）\"}}},\"playerSlots\":{\"type\":\"array\",\"content\":{\"slotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"槽位ID\"},\"isOpen\":{\"type\":\"int\",\"length\":4,\"desc\":\"玩家账号索引（无人时-1）\"},\"readyState\":{\"type\":\"int\",\"length\":4,\"desc\":\"玩家状态（0未准备，1准备）\"}}},\"defaultDirection\":{\"type\":\"array\",\"content\":{\"x\":{\"type\":\"int\",\"length\":4,\"desc\":\"x坐标\"},\"y\":{\"type\":\"int\",\"length\":4,\"desc\":\"y坐标\"},\"z\":{\"type\":\"int\",\"length\":4,\"desc\":\"z坐标\"}}},\"defaultPosition\":{\"type\":\"array\",\"content\":{\"x\":{\"type\":\"int\",\"length\":4,\"desc\":\"x坐标\"},\"y\":{\"type\":\"int\",\"length\":4,\"desc\":\"y坐标\"},\"z\":{\"type\":\"int\",\"length\":4,\"desc\":\"z坐标\"}}},\"timeStamp\":{\"type\":\"int\",\"length\":4,\"desc\":\"时间戳\"},\"direction\":{\"type\":\"array\",\"content\":{\"x\":{\"type\":\"int\",\"length\":4,\"desc\":\"x坐标\"},\"y\":{\"type\":\"int\",\"length\":4,\"desc\":\"y坐标\"},\"z\":{\"type\":\"int\",\"length\":4,\"desc\":\"z坐标\"}}},\"position\":{\"type\":\"array\",\"content\":{\"x\":{\"type\":\"int\",\"length\":4,\"desc\":\"x坐标\"},\"y\":{\"type\":\"int\",\"length\":4,\"desc\":\"y坐标\"},\"z\":{\"type\":\"int\",\"length\":4,\"desc\":\"z坐标\"}}},\"velocity\":{\"type\":\"array\",\"content\":{\"x\":{\"type\":\"int\",\"length\":4,\"desc\":\"x坐标\"},\"y\":{\"type\":\"int\",\"length\":4,\"desc\":\"y坐标\"},\"z\":{\"type\":\"int\",\"length\":4,\"desc\":\"z坐标\"}}}}',0,'房间详细信息','房间协议'),(42,'connector.connectorHandler.createRoleRequest','{\"nickname\":{\"type\":\"string\",\"desc\":\"角色名称\"},\"sex\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"角色性别（0无性别，1男，2女）\"}}','{\"errorCode\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"错误码:0,3,5,11,12,29\"},\"userId\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"玩家账号索引\"}}',0,'向connector发送创角请求','登陆协议'),(43,'chat.chatHandler.sendTrumpetRequest','{\"trumpetData\":{\"type\":\"string\",\"desc\":\"喇叭内容\"},\"trumpetCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"使用喇叭的个数\"},\"colorType\":{\"type\":\"int\",\"length\":4,\"desc\":\"色彩编号\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0\"}}',0,'发送喇叭信息请求','聊天系统'),(44,'copy.copyHandler.getChapterStarRewardRequest','{\"chapterId\":{\"type\":\"int\",\"length\":4,\"desc\":\"章节ID (从1开始)\"},\"difficulty\":{\"type\":\"int\",\"length\":4,\"desc\":\"难度（1,2,3）\"},\"starCountType\":{\"type\":\"int\",\"length\":4,\"desc\":\"每个难度所对应的星级类型（0,1,2）\"},\"starRewardIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"章节内星级个数对应的奖励(0-8)\"}}','{\"itemInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemCode\"},\"addDays\":{\"type\":\"int\",\"length\":4,\"desc\":\"日期类型的物品有此字段\"},\"addTimes\":{\"type\":\"int\",\"length\":4,\"desc\":\"次数类型的物品有此字段\"}}}}',0,'章节内星级奖励 请求','副本系统'),(45,'chat.chatHandler.getAutoTrumpetListRequest','{}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0\"},\"itemInfo\":{\"type\":\"array\",\"content\":{\"messageType\":{\"type\":\"int\",\"length\":4,\"desc\":\"消息类型，9-喇叭\"},\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"发言者userIndex\"},\"nickname\":{\"type\":\"string\",\"desc\":\"进入聊天房间的昵称\"},\"trumpetData\":{\"type\":\"string\",\"desc\":\"喇叭内容\"},\"trumpetCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"自动喇叭的个数\"},\"interval\":{\"type\":\"int\",\"length\":4,\"desc\":\"时间间隔（精确到秒）\"},\"colorType\":{\"type\":\"int\",\"length\":4,\"desc\":\"色彩编号\"},\"leftTime\":{\"type\":\"int\",\"length\":4,\"desc\":\"喇叭剩余时间（精确到秒）\"}}}}',0,'获取自动喇叭列表信息请求','聊天系统'),(46,'onUpdateRoomStatePush','null','{\"roomId\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间ID\"},\"roomName\":{\"type\":\"string\",\"desc\":\"房间名称\"},\"gameType\":{\"type\":\"int\",\"length\":4,\"desc\":\"游戏类型，0:dance , 1:chat\"},\"roomMode\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间模式，0:free，1:love，2:team\"},\"hasPassword\":{\"type\":\"int\",\"length\":4,\"desc\":\"是否需要密码（0不需要，1需要）\"},\"roomState\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间的游戏状态（0等待，1游戏中，2结束, ...）\"},\"masterHead\":{\"type\":\"string\",\"desc\":\"房主头像\"},\"sexList\":{\"type\":\"simpleArray\",\"content\":{\"type\":\"int\",\"length\":4,\"desc\":\"性别列表(0:女，1:男，2:无，3:被禁)\"}},\"watcherCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"旁观人数\"},\"validWatcherSlotCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"有效的旁观槽位总数\"},\"masterValueInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemCode值\"},\"value\":{\"type\":\"int\",\"length\":4,\"desc\":\"对应数值\"}}}}',1,'房间列表状态改变的通知(此协议暂不用，由客户端定时发更新请求)','房间协议'),(47,'connector.connectorHandler.selectRoleRequest','{\"userIndex\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"玩家账号索引\"}}','{\"errorCode\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"错误码:0,13\"},\"userIndex\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"玩家账号索引\"}}',0,'向connector发送选角请求','登陆协议'),(48,'copy.copyHandler.cleanSectionRequest','{\"chapterId\":{\"type\":\"int\",\"length\":4,\"desc\":\"章节ID (从1开始)\"},\"sectionId\":{\"type\":\"int\",\"length\":4,\"desc\":\"关卡ID (从1开始)\"},\"cleanCountType\":{\"type\":\"int\",\"length\":4,\"desc\":\"0:1次，1:5次\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0，58,59\"},\"itemInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemCode\"},\"addDays\":{\"type\":\"int\",\"length\":4,\"desc\":\"日期类型的物品有此字段\"},\"addTimes\":{\"type\":\"int\",\"length\":4,\"desc\":\"次数类型的物品有此字段\"}}}}',0,'关卡扫荡 请求','副本系统'),(49,'onAutoTrumpetPush','null','{\"messageType\":{\"type\":\"int\",\"length\":4,\"desc\":\"消息类型，9-喇叭\"},\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"发言者userIndex\"},\"nickname\":{\"type\":\"string\",\"desc\":\"进入聊天房间的昵称\"},\"trumpetData\":{\"type\":\"string\",\"desc\":\"喇叭内容\"},\"trumpetCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"自动喇叭的个数\"},\"interval\":{\"type\":\"int\",\"length\":4,\"desc\":\"时间间隔（精确到秒）\"},\"colorType\":{\"type\":\"int\",\"length\":4,\"desc\":\"色彩编号\"}}',1,'自动喇叭信息推送','聊天系统'),(50,'connector.connectorHandler.enterAreaRequest','{}','{\"errorCode\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"错误码:0,14,16\"},\"userIndex\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"区ID\"}}',0,'向connector发送进入大区请求','登陆协议'),(51,'misc.miscHandler.getServerTimeRequest','{\"clientSecondTime\":{\"type\":\"int\",\"length\":4,\"desc\":\"客户端时间(秒)\"},\"clientMilliSecondTime\":{\"type\":\"int\",\"length\":4,\"desc\":\"客户端时间（毫秒）\"}}','{\"clientSecondTime\":{\"type\":\"int\",\"length\":4,\"desc\":\"客户端时间(秒)\"},\"clientMilliSecondTime\":{\"type\":\"int\",\"length\":4,\"desc\":\"客户端时间（毫秒）\"},\"serverSecondTime\":{\"type\":\"int\",\"length\":4,\"desc\":\"服务器时间(秒)\"},\"serverMilliSecondTime\":{\"type\":\"int\",\"length\":4,\"desc\":\"服务器时间（毫秒）\"}}',0,'对时请求','房间协议'),(52,'backpack.backpackHandler.useItemRequest','{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemCount\"},\"count\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemCode数量\"},\"actionType\":{\"type\":\"int\",\"length\":4,\"desc\":\"类型:0-开礼包\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0，58,59\"},\"itemInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemCode\"},\"addDays\":{\"type\":\"int\",\"length\":4,\"desc\":\"日期类型的物品有此字段\"},\"addTimes\":{\"type\":\"int\",\"length\":4,\"desc\":\"次数类型的物品有此字段\"}}}}',0,'使用道具 请求','副本系统'),(53,'connector.connectorHandler.getAreaListRequest','{}','{\"errorCode\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"错误码:0,31\"},\"areaList\":{\"type\":\"array\",\"content\":{\"areaId\":{\"type\":\"int\",\"length\":4,\"desc\":\"区ID\"},\"areaName\":{\"type\":\"string\",\"desc\":\"区名\"},\"state\":{\"type\":\"int\",\"length\":4,\"desc\":\"区人数状态\"},\"recomment\":{\"type\":\"int\",\"length\":4,\"desc\":\"是否推荐，0不推荐，1推荐\"}}}}',0,'向connector发送获取大区列表请求','登陆协议'),(54,'chat.chatHandler.sendServerBroadcastRequest','{\"messageType\":{\"type\":\"int\",\"length\":4,\"desc\":\"操作类型：0-全服，1-指定具体服，2-发送人所在服\"},\"gameServerId\":{\"type\":\"int\",\"length\":4,\"desc\":\"服务器id\"},\"broadcastData\":{\"type\":\"string\",\"desc\":\"广播内容\"},\"broadcastType\":{\"type\":\"int\",\"length\":4,\"desc\":\"0-文字，1-语音\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0\"}}',0,'单服，全服广播信息请求（GM账号使用，不提供给普通客户端使用）','聊天系统'),(55,'room.roomHandler.changeReadyStateRequest','{}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0,13\"}}',0,'客户端游戏准备、取消准备','房间协议'),(56,'connector.connectorHandler.selectAreaRequest','{\"areaId\":{\"type\":\"int\",\"length\":4,\"desc\":\"区ID\"}}','{\"errorCode\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"错误码:0,14,16\"},\"userIndex\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"区ID\"}}',0,'向connector发送切换大区请求','登陆协议'),(57,'onChangeReadyStatePush','null','{\"slotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"槽位ID\"},\"readyState\":{\"type\":\"int\",\"length\":4,\"desc\":\"1准备，0取消准备\"}}',1,'客户端游戏准备、取消准备广播 （包括自己）','房间协议'),(58,'connector.connectorHandler.getRoleInfoRequest','{\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"玩家账号索引\"}}','{\"errorCode\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"错误码:0\"},\"userIndex\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"玩家账号索引\"},\"nickname\":{\"type\":\"string\",\"desc\":\"角色昵称\"},\"sex\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"角色性别\"},\"lastLoginTime\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"上次登录的时间\"},\"defaultAvatarInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemcode信息\"}}},\"head\":{\"type\":\"string\",\"desc\":\"头像\"},\"vipLevel\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"vip等级\"},\"avatarInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemcode信息\"}}},\"valueInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemcode信息\"},\"value\":{\"type\":\"int\",\"length\":4,\"desc\":\"数值\"}}}}',0,'向connector发送获取角色基本信息请求','登陆协议'),(59,'room.roomHandler.startGameRequest','{}','{\"readyState\":{\"type\":\"int\",\"length\":4,\"desc\":\"1准备，0取消准备\"}}',0,'客户端游戏开始广播(房主点击开始)','房间协议'),(60,'connector.connectorHandler.getMultiRoleInfoRequest','{\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"玩家账号索引\"}}','{\"errorCode\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"错误码:0\"},\"userIndex\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"玩家账号索引\"},\"nickname\":{\"type\":\"string\",\"desc\":\"角色昵称\"},\"sex\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"角色性别\"},\"lastLoginTime\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"上次登录的时间\"},\"defaultAvatarInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemcode信息\"}}},\"head\":{\"type\":\"string\",\"desc\":\"头像\"},\"vipLevel\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"vip等级\"},\"avatarInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemcode信息\"}}},\"valueInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemcode信息\"},\"value\":{\"type\":\"int\",\"length\":4,\"desc\":\"数值\"}}}}',0,'向connector发送获取角色基本信息请求','登陆协议'),(61,'onStartGamePush','null','{}',1,'游戏开始广播','房间协议'),(62,'connector.connectorHandler.getAvatarInfoRequest','{\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"玩家账号索引\"}}','{\"errorCode\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"错误码:0\"},\"userIndex\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"玩家账号索引\"},\"sex\":{\"type\":\"int\",\"lenght\":4,\"desc\":\"角色性别\"},\"defaultAvatarInfo\":{\"type\":\"array\",\"content\":{\"itemcode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemcode信息\"}}},\"avatarInfo\":{\"type\":\"array\",\"content\":{\"itemcode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemcode信息\"}}}}',0,'向connector发送获取角色avatar信息请求','登陆协议'),(63,'room.roomHandler.changeRoomSettingRequest','{\"roomName\":{\"type\":\"string\",\"desc\":\"房间名\"},\"password\":{\"type\":\"string\",\"desc\":\"密码\"},\"gameType\":{\"type\":\"int\",\"length\":4,\"desc\":\"游戏类型，0:dance , 1:chat\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0,13,18,19\"}}',0,'通知房间设置请求','房间协议'),(64,'onChangeRoomSettingPush','null','{\"roomName\":{\"type\":\"string\",\"desc\":\"房间名称\"},\"password\":{\"type\":\"string\",\"desc\":\"密码\"},\"gameType\":{\"type\":\"int\",\"length\":4,\"desc\":\"游戏类型，0:dance , 1:chat\"}}',1,'修改房间设置（房间名称，游戏类型） 广播','房间协议'),(65,'room.roomHandler.changeDanceRoomSettingRequest','{\"gameMode\":{\"type\":\"int\",\"length\":4,\"desc\":\"游戏模式 0:vos 1:au\"},\"roomMode\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间模式 0：free，1：lover，2：team\"},\"songId\":{\"type\":\"int\",\"length\":4,\"desc\":\"歌曲ID，-1代表随机\"},\"sceneId\":{\"type\":\"int\",\"length\":4,\"desc\":\"场景ID，-1代表随机\"},\"difficulty\":{\"type\":\"int\",\"length\":4,\"desc\":\"难度 从0开始\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0,26\"}}',0,'舞蹈房间设置 请求','房间协议'),(66,'onChangeDanceRoomSettingPush','null','{\"roomMode\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间模式 0：free，1：lover，2：team\"},\"songId\":{\"type\":\"int\",\"length\":4,\"desc\":\"歌曲ID\"},\"sceneId\":{\"type\":\"int\",\"length\":4,\"desc\":\"场景ID\"},\"randSong\":{\"type\":\"int\",\"length\":4,\"desc\":\"歌曲ID\"},\"randScene\":{\"type\":\"int\",\"length\":4,\"desc\":\"场景ID\"},\"difficulty\":{\"type\":\"int\",\"length\":4,\"desc\":\"难度 从0开始\"}}',1,'舞蹈房间设置 广播','房间协议'),(67,'room.roomHandler.changeDressUpModeSettingRequest','{}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0\"}}',0,'换装模式 ： 暂未定义','房间协议'),(68,'onChangeDressUpModeSettingPush','null','{}',1,'换装模式 ： 暂未定义','房间协议'),(69,'room.roomHandler.finishLoadingNotify','{}','null',2,'从房间切换到游戏场景完毕后客户端的通知','房间协议'),(70,'onStartDanceTimePush','null','{\"danceStartSecondTime\":{\"type\":\"int\",\"length\":4,\"desc\":\"开始时间\"},\"danceStartMilliSecondTime\":{\"type\":\"int\",\"length\":4,\"desc\":\"毫秒数\"}}',1,'所有人从房间切换到游戏场景完毕后的游戏开始时间广播','房间协议'),(71,'danceGame.danceGameHandler.playGameNotify','{\"judgementBytes\":{\"type\":\"int\",\"desc\":\"notes分数等级(0:perfect,1:great,2:good,3:miss)\"},\"judgementCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"notes数目\"},\"combo\":{\"type\":\"int\",\"length\":4,\"desc\":\"combo数\"},\"score\":{\"type\":\"int\",\"length\":4,\"desc\":\"阶段分数\"}}','null',2,'客户端游戏中的结果','房间协议'),(72,'onPlayGamePush','null','{\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"玩家索引(npc考虑下)\"},\"combo\":{\"desc\":\"combo数\"},\"finalScore\":{\"type\":\"int\",\"length\":4,\"desc\":\"累计分数\"}}',1,'客户端游戏中的结果广播','房间协议'),(73,'danceGame.danceGameHandler.endGameNotify','{}','null',2,'客户端游戏结束','房间协议'),(74,'onEndGamePush','null','{\"scoreResult\":{\"type\":\"array\",\"content\":{\"userIndex\":{\"type\":\"int\",\"length\":4,\"desc\":\"玩家索引\"},\"perfectCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"总perfect\"},\"greatCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"总great\"},\"goodCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"总good\"},\"missCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"总miss\"},\"maxCombo\":{\"type\":\"int\",\"length\":4,\"desc\":\"最大的combo数\"},\"grade\":{\"type\":\"int\",\"length\":4,\"desc\":\"评分等级(0:E,1:D,2:C,3:B,4:A,5:s,6:sss)\"},\"gameMode\":{\"type\":\"int\",\"length\":4,\"desc\":\"游戏模式 0:vos 1:au\"},\"judgementScore\":{\"type\":\"int\",\"length\":4,\"desc\":\"判定分\"},\"comboScore\":{\"type\":\"int\",\"length\":4,\"desc\":\"combo分数\"},\"totalScore\":{\"type\":\"int\",\"length\":4,\"desc\":\"总分\"}}}}',1,'所有客户端游戏结束后的 结束游戏结算广播','房间协议'),(75,'room.roomHandler.changePositionNotify','{\"timeStamp\":{\"type\":\"int\",\"length\":4,\"desc\":\"时间戳\"},\"velocity\":{\"type\":\"array\",\"content\":{\"x\":{\"type\":\"int\",\"length\":4,\"desc\":\"x坐标\"},\"y\":{\"type\":\"int\",\"length\":4,\"desc\":\"y坐标\"},\"z\":{\"type\":\"int\",\"length\":4,\"desc\":\"z坐标\"}}},\"direction\":{\"type\":\"array\",\"content\":{\"x\":{\"type\":\"int\",\"length\":4,\"desc\":\"x坐标\"},\"y\":{\"type\":\"int\",\"length\":4,\"desc\":\"y坐标\"},\"z\":{\"type\":\"int\",\"length\":4,\"desc\":\"z坐标\"}}},\"position\":{\"type\":\"array\",\"content\":{\"x\":{\"type\":\"int\",\"length\":4,\"desc\":\"x坐标\"},\"y\":{\"type\":\"int\",\"length\":4,\"desc\":\"y坐标\"},\"z\":{\"type\":\"int\",\"length\":4,\"desc\":\"z坐标\"}}}}','null',2,'同屏行走坐标更新通知','房间协议'),(76,'onChangePositionPush','null','{\"slotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"槽位ID\"},\"timeStamp\":{\"type\":\"int\",\"length\":4,\"desc\":\"时间戳\"},\"velocity\":{\"type\":\"array\",\"content\":{\"x\":{\"type\":\"int\",\"length\":4,\"desc\":\"x坐标\"},\"y\":{\"type\":\"int\",\"length\":4,\"desc\":\"y坐标\"},\"z\":{\"type\":\"int\",\"length\":4,\"desc\":\"z坐标\"}}},\"direction\":{\"type\":\"array\",\"content\":{\"x\":{\"type\":\"int\",\"length\":4,\"desc\":\"x坐标\"},\"y\":{\"type\":\"int\",\"length\":4,\"desc\":\"y坐标\"},\"z\":{\"type\":\"int\",\"length\":4,\"desc\":\"z坐标\"}}},\"position\":{\"type\":\"array\",\"content\":{\"x\":{\"type\":\"int\",\"length\":4,\"desc\":\"x坐标\"},\"y\":{\"type\":\"int\",\"length\":4,\"desc\":\"y坐标\"},\"z\":{\"type\":\"int\",\"length\":4,\"desc\":\"z坐标\"}}}}',1,'同屏行走坐标广播','房间协议'),(77,'room.roomHandler.switchSlotStateRequest','{\"slotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"槽位ID\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0,13,32\"}}',0,'开/关槽位 请求','房间协议'),(78,'room.roomHandler.kickUserRequest','{\"slotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"槽位ID\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0,13,32\"}}',0,'踢人 请求','房间协议'),(79,'onSwitchSlotStatePush','null','{\"slotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"槽位ID\"},\"isOpen\":{\"type\":\"int\",\"length\":4,\"desc\":\"0-关栏位  1-开栏位\"}}',1,'开/关槽位 广播','房间协议'),(80,'onKickUserPush','null','{\"slotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"槽位ID\"}}',1,'踢人 广播','房间协议'),(81,'room.roomHandler.switchWatcherStateRequest','{}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0,35\"}}',0,'旁观/舞池 切换请求','房间协议'),(82,'onSwitchWatcherStatePush','null','{\"changeBeforeSlotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"切换前的槽位\"},\"changeAfterSlotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"切换后的槽位\"},\"masterSlotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"现在的房主槽位\"}}',1,'旁观/舞池 切换 广播','房间协议'),(83,'onNoticeLeavePush','null','{}',1,'客户端房间内非法操作, 通知离开 广播','房间协议'),(84,'onDismissRoomPush','null','{}',1,'通知房间解散 广播','房间协议'),(85,'room.roomHandler.searchRoomRequest','{\"page\":{\"type\":\"int\",\"length\":4,\"desc\":\"请求列表的页数( 从0开始)\"},\"roomId\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间ID （大于0有效，其他则不搜索）\"},\"roomName\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间名称 （长度大于0有效，其他则不搜索）\"}}','{\"errorCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"错误码:0 \"},\"pageCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"总页数\"},\"pageSize\":{\"type\":\"int\",\"length\":4,\"desc\":\"每页显示的个数\"},\"page\":{\"type\":\"int\",\"length\":4,\"desc\":\"当前页索引\"},\"itemCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"总条数\"},\"itemInfo\":{\"type\":\"array\",\"content\":{\"roomId\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间ID\"},\"roomName\":{\"type\":\"string\",\"desc\":\"房间名称\"},\"gameType\":{\"type\":\"int\",\"length\":4,\"desc\":\"游戏类型，0:dance , 1:chat\"},\"roomType\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间类型, 0:common ，1:vip\"},\"roomMode\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间模式，0:free，1:love，2:team\"},\"hasPassword\":{\"type\":\"int\",\"length\":4,\"desc\":\"是否需要密码（0不需要，1需要）\"},\"playerCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间跳舞人数\"},\"userCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间总人数\"},\"roomState\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间的游戏状态（0等待，1游戏中）\"},\"maxPlayerNumber\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间跳舞人数上限\"},\"maxWatcherNumber\":{\"type\":\"int\",\"length\":4,\"desc\":\"房间旁观人数上限\"},\"masterSlotId\":{\"type\":\"int\",\"length\":4,\"desc\":\"房主槽位号\"},\"masterHead\":{\"type\":\"string\",\"desc\":\"房主头像\"},\"sexList\":{\"type\":\"simpleArray\",\"content\":{\"type\":\"int\",\"length\":4,\"desc\":\"性别列表(0:女，1:男，2:无，3:被禁)\"}},\"validWatcherSlotCount\":{\"type\":\"int\",\"length\":4,\"desc\":\"有效的旁观槽位总数\"},\"masterValueInfo\":{\"type\":\"array\",\"content\":{\"itemCode\":{\"type\":\"int\",\"length\":4,\"desc\":\"itemCode值\"},\"value\":{\"type\":\"int\",\"length\":4,\"desc\":\"对应数值\"}}}}}}',0,'房间列表请求','房间协议');
/*!40000 ALTER TABLE `InstrumentPrototypes` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ProtoRunnerJobs`
--

DROP TABLE IF EXISTS `ProtoRunnerJobs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ProtoRunnerJobs` (
  `jobId` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `jobJson` mediumtext NOT NULL,
  `createTime` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `modifyTime` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`jobId`),
  UNIQUE KEY `jobId_UNIQUE` (`jobId`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ProtoRunnerJobs`
--

LOCK TABLES `ProtoRunnerJobs` WRITE;
/*!40000 ALTER TABLE `ProtoRunnerJobs` DISABLE KEYS */;
/*!40000 ALTER TABLE `ProtoRunnerJobs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ProtoRunnerJobsDel`
--

DROP TABLE IF EXISTS `ProtoRunnerJobsDel`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ProtoRunnerJobsDel` (
  `jobId` int(11) unsigned NOT NULL,
  `jobJson` mediumtext NOT NULL,
  `createTime` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `modifyTime` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `deleteTime` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ProtoRunnerJobsDel`
--

LOCK TABLES `ProtoRunnerJobsDel` WRITE;
/*!40000 ALTER TABLE `ProtoRunnerJobsDel` DISABLE KEYS */;
/*!40000 ALTER TABLE `ProtoRunnerJobsDel` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `sessions`
--

DROP TABLE IF EXISTS `sessions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `sessions` (
  `session_id` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
  `expires` int(11) unsigned NOT NULL,
  `data` text CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,
  PRIMARY KEY (`session_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `sessions`
--

LOCK TABLES `sessions` WRITE;
/*!40000 ALTER TABLE `sessions` DISABLE KEYS */;
INSERT INTO `sessions` VALUES ('NXeThdNQfi10coKxjYf1Tdt2',1490859238,'{\"cookie\":{\"originalMaxAge\":null,\"expires\":null,\"httpOnly\":true,\"path\":\"/\"},\"passport\":{\"user\":1}}');
/*!40000 ALTER TABLE `sessions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping events for database 'DDProjServTest'
--

--
-- Dumping routines for database 'DDProjServTest'
--
/*!50003 DROP FUNCTION IF EXISTS `RemoveJob` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`localhost` FUNCTION `RemoveJob`(nm varchar(256)) RETURNS int(11)
BEGIN

	insert  into ProtoRunnerJobsDel(jobId,jobName,job,owner,createTime,modifyTime,isPublic) select jobId,jobName,job,owner,createTime,modifyTime,isPublic from  ProtoRunnerJobs where jobName=nm;
    delete from ProtoRunnerJobs where jobName=nm;
    
RETURN 1;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2017-04-13 22:52:27
